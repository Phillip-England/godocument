<!doctype html><html lang=en loaded=false zez:dark=dark zez:light=light><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Discover how to enhance your Godocument markdown files with Web Components and custom HTML elements using Goldmark's html.WithUnsafe renderer. Learn to initialize and use custom elements like md-important, md-warning, and md-correct directly in your documentation to emphasize important content effectively."><script src=http://localhost:8080/static/js/prism.js crossorigin=anonymous></script><script src=https://unpkg.com/htmx.org@1.9.11 integrity=sha384-0gxUXCCR8yv9FM2b+U3FDbsKthCI66oH5IA9fHppQq9DDMHuMauqq1ZHBpJxQ0J0 crossorigin=anonymous></script><link rel=stylesheet href=http://localhost:8080/static/css/index.css><link rel=icon href=http://localhost:8080/favicon.ico type=image/x-icon><title>Godocument - Custom Components</title>
<body hx-boost=true class="custom-scroll h-full w-full flex invisible text-[var(--default-text-color)] bg-[var(--default-bg-color)] dark:text-[var(--dark-default-text-color)] dark:bg-[var(--dark-default-bg-color)]" zez:loaded=!visible><div id=root class="w-full grid"><header id=header class="flex flex-row justify-between items-center border-b z-30 p-4 sticky top-0 w-full bg-[var(--header-bg-color)] dark:bg-[var(--dark-header-bg-color)] border-[var(--b-color)] dark:border-[var(--dark-b-color)]" style=grid-area:header><div class="header-logo-wrapper flex flex-row shrink-0 items-center w-[250px]"><img class="logo items-center flex-row" src=http://localhost:8080/static/img/logo.svg alt=logo id=logo></div><svg class="sun cursor-pointer hidden lg:block shrink-0 dark:lg:hidden" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5V3m0 18v-2M7.05 7.05 5.636 5.636m12.728 12.728L16.95 16.95M5 12H3m18 0h-2M7.05 16.95l-1.414 1.414M18.364 5.636 16.95 7.05M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><svg class="moon cursor-pointer hidden shrink-0 dark:lg:block" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21a9 9 0 01-.5-17.986V3c-.354.966-.5 1.911-.5 3a9 9 0 009 9c.239.0.254.018.488.0A9.004 9.004.0 0112 21z"/></svg><svg id="bars" class="cursor-pointer block lg:hidden shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24"><path stroke="currentcolor" stroke-linecap="round" stroke-width="2" d="M5 7h14M5 12h14M5 17h14"/></svg></header><div id=content-wrapper class=grid style=grid-area:content-wrapper><nav id=sitenav class="fixed top-0 w-[80%] lg:w-auto lg:sticky hidden overflow-y-scroll custom-scroll sm-scroll lg:block lg:top-[75px] h-screen border-r border-[var(--b-color)] dark:border-[var(--dark-b-color)] z-50 lg:z-0 bg-[var(--sitenav-bg-color)] dark:bg-[var(--dark-sitenav-bg-color)]" zez:active=!block style=grid-area:sitenav><div class="flex flex-row justify-between items-center text-md h-[75px] p-4 border-b border-[var(--b-color)] dark:border-[var(--dark-b-color)] lg:hidden"><div class="flex flex-row items-center justify-between w-[250px]"><div class=flex><img class=logo src=http://localhost:8080/static/img/logo.svg alt=logo id=logo></div></div><div class="flex items-center"><svg class="sun cursor-pointer dark:hidden" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5V3m0 18v-2M7.05 7.05 5.636 5.636m12.728 12.728L16.95 16.95M5 12H3m18 0h-2M7.05 16.95l-1.414 1.414M18.364 5.636 16.95 7.05M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><svg class="moon cursor-pointer hidden dark:block" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21a9 9 0 01-.5-17.986V3c-.354.966-.5 1.911-.5 3a9 9 0 009 9c.239.0.254.018.488.0A9.004 9.004.0 0112 21z"/></svg></div></div><ul class="sitenav-list flex flex-col p-2 gap-1"><li class=pl-0><a class="item flex flex-row justify-between items-center rounded-md font-bold p-2 hover:bg-[var(--bg-hover-color)] hover:dark:bg-[var(--dark-bg-hover-color)]" zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)] bg-[var(--bg-hover-color)] dark:bg-[var(--dark-bg-hover-color)]" href=http://localhost:8080/>Introduction</a><li class=pl-0><a class="item flex flex-row justify-between items-center rounded-md font-bold p-2 hover:bg-[var(--bg-hover-color)] hover:dark:bg-[var(--dark-bg-hover-color)]" zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)] bg-[var(--bg-hover-color)] dark:bg-[var(--dark-bg-hover-color)]" href=http://localhost:8080/installation.html>Installation</a><li class=pl-0><a class="item flex flex-row justify-between items-center rounded-md font-bold p-2 hover:bg-[var(--bg-hover-color)] hover:dark:bg-[var(--dark-bg-hover-color)]" zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)] bg-[var(--bg-hover-color)] dark:bg-[var(--dark-bg-hover-color)]" href=http://localhost:8080/configuration.html>Configuration</a><li class=pl-0><a class="item flex flex-row justify-between items-center rounded-md font-bold p-2 hover:bg-[var(--bg-hover-color)] hover:dark:bg-[var(--dark-bg-hover-color)]" zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)] bg-[var(--bg-hover-color)] dark:bg-[var(--dark-bg-hover-color)]" href=http://localhost:8080/theming.html>Theming</a><li class=pl-0><a class="item flex flex-row justify-between items-center rounded-md font-bold p-2 hover:bg-[var(--bg-hover-color)] hover:dark:bg-[var(--dark-bg-hover-color)]" zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)] bg-[var(--bg-hover-color)] dark:bg-[var(--dark-bg-hover-color)]" href=http://localhost:8080/custom-components.html>Custom Components</a><li class=pl-0><a class="item flex flex-row justify-between items-center rounded-md font-bold p-2 hover:bg-[var(--bg-hover-color)] hover:dark:bg-[var(--dark-bg-hover-color)]" zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)] bg-[var(--bg-hover-color)] dark:bg-[var(--dark-bg-hover-color)]" href=http://localhost:8080/scripting.html>Scripting</a><li class=pl-0><a class="item flex flex-row justify-between items-center rounded-md font-bold p-2 hover:bg-[var(--bg-hover-color)] hover:dark:bg-[var(--dark-bg-hover-color)]" zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)] bg-[var(--bg-hover-color)] dark:bg-[var(--dark-bg-hover-color)]" href=http://localhost:8080/building.html>Building</a></ul></nav><main id=main class=grid style=grid-area:main><article id=article class="2xl:pl-40 xl:pr-8 2xl:py-4 lg:pl-8 p-4 flex flex-col gap-6 break-words" style=grid-area:article><h1 id=custom-components>Custom Components</h1><h2 id=web-components>Web Components</h2><p>Godocument uses <a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_components>Web Components</a> for creating custom elements to use within your <code>.md</code> files.<p>Web Components are defined in <code>/static/js/index.js</code> and can be used directly in our <code>.md</code> files to keep things clean and quick to use.<h2 id=goldmark-htmlwithunsafe>Goldmark html.WithUnsafe</h2><p>Since we are using <a href=https://github.com/yuin/goldmark>Goldmark</a> to convert <code>.md</code> files into workable HTML, we have to use the <code>html.WithUnsafe()</code> renderer option when instantiating Goldmark in our project. This will allow us to place HTML elements directly in our <code>.md</code> files.<p>This is only considered <em>unsafe</em> if the content within our <code>.md</code> files is controlled by our users. In our case, since we will be the ones writing the markup directly, it is not considered unsafe.<p><md-important>Removing <code>html.WithUnsafe()</code> from Goldmark's rendering options will cause Goldmark to ignore any HTML markup within our <code>.md</code> files.</md-important><h2 id=component-initialization>Component Initialization</h2><p>Custom components require some initialization to work as expected. This is due to the way Goldmark parses <code>.md</code> files. These initialization steps are to ensure the component renders properly as well as enabling users to utilize backticks to convey inline code examples.<p>Within a component's constructor, do the following to initialize the component properly and get the text from within the component:<pre><code class=language-js>class MdImportant extends HTMLElement {
    constructor() {
        super()
        this.hook()
    }
    hook() {
        let text = initMdComponent(this)   
        this.innerHTML = `
            &lt;div class=&#39;bg-[var(--md-bg-color)] dark:bg-[var(--dark-md-bg-color)] p-4 rounded-md border-l-4 border-[var(--md-important-border-color)] dark:border-[var(--dark-md-important-border-color)] flex flex-col gap-2&#39;&gt;
                &lt;span class=&#39;flex flex-row item-center gap-2 dark:text-[var(--dark-md-important-text-color)] text-[var(--md-important-text-color)]&#39;&gt;
                    &lt;span class=&#39;flex items-center dark:text-[var(--dark-md-important-text-color)] text-[var(--md-important-text-color)]&#39;&gt;
                        &lt;svg class=&#34;h-6 w-6&#34; aria-hidden=&#34;true&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; width=&#34;24&#34; height=&#34;24&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34;&gt;
                            &lt;path stroke=&#34;currentColor&#34; stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; stroke-width=&#34;2&#34; d=&#34;M12 13V8m0 8h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z&#34;/&gt;
                        &lt;/svg&gt;
                    &lt;/span&gt;
                    &lt;p class=&#39;font-bold&#39;&gt;Important&lt;/p&gt;                   
                &lt;/span&gt;
                &lt;p class=&#39;custom-inline-code&#39;&gt;${text}&lt;/p&gt;
            &lt;/div&gt;
        `
    }    
}
</code></pre><p>We are specifically focusing on this line:<pre><code class=language-js>...
let text = initMdComponent(this)
...
</code></pre><h3 id=removing-the-parent>Removing the Parent</h3><p>When Goldmark finds HTML within a <code>.md</code> file, it will wrap the HTML with a <code>&lt;p></code> tag. To ensure proper rendering, it is important to remove the <code>&lt;p></code> tag when initializing our components.<p>A special function named <code>initMdComponent()</code> serves to enable custom components behave as expected.<pre><code class=language-js>function initMdComponent(node) {
    node.parentElement.replaceWith(node)
    let text = node.innerHTML
    text = replaceBackticksWithCodeTags(text)
    return text
}
</code></pre><h3 id=enabling-inline-code>Enabling Inline Code</h3><p>Goldmark will not wrap backticks with <code>&lt;code></code> tags within our HTML markup found within <code>.md</code> files. To prevent users from manually having to type out <code>&lt;code>some code example&lt;/code></code> each time, <code>initMdComponent()</code> handles this as well.<p><code>initMdComponent</code> references another function, <code>replaceBackticksWithCodeTags()</code>. Here is that function's declaration:<pre><code class=language-js>function replaceBackticksWithCodeTags(text) {
    for (let i = 0; i &lt; text.length; i++) {
        if (text[i] == &#39;`&#39;) {
            text = text.slice(0, i) + &#39;&lt;code&gt;&#39; + text.slice(i + 1)
            i++
            while (i &lt; text.length &amp;&amp; text[i] != &#39;`&#39;) {
                i++
            }
            text = text.slice(0, i) + &#39;&lt;/code&gt;&#39; + text.slice(i + 1)
        }
    }
    return text
}
</code></pre><h2 id=mdimportant>MdImportant</h2><p><md-important>I am created by using this markup in a <code>.md</code> file: <code>&lt;md-important>I am important!&lt;/md-important></code></md-important><h2 id=mdwarning>MdWarning</h2><p><md-warning>I am created by using this markup in a <code>.md</code> file: <code>&lt;md-warning>I am a warning!&lt;/md-warning></code></md-warning><h2 id=mdcorrect>MdCorrect</h2><p><md-correct>I am created by using this markup in a <code>.md</code> file: <code>&lt;md-correct>That is correct!&lt;/md-correct></code></md-correct><ul class="flex flex-row justify-between gap-8 my-12 list-none"><li class=w-full><a href=http://localhost:8080/theming.html target=_self class="text-[var(--text-important)] dark:text-[var(--dark-text-important)] border no-underline w-full p-4 flex-col hover:border-[var(--b-hover-color)] dark:hover:border-[var(--dark-b-hover-color)] flex rounded-md border-[var(--b-color)] dark:border-[var(--dark-b-color)]"><div><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m17 16-4-4 4-4m-6 8-4-4 4-4"/></svg></div><p class="font-bold text-sm">Theming</p></a><li class=w-full><a href=http://localhost:8080/scripting.html target=_self class="text-[var(--text-important)] dark:text-[var(--text-important)] border no-underline hover:border-[var(--b-hover-color)] dark:hover:border-[var(--dark-b-hover-color)] items-end w-full p-4 flex-col flex rounded-md border-[var(--b-color)] dark:border-[var(--dark-b-color)]"><div><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 16 4-4-4-4m6 8 4-4-4-4"/></svg></div><p class="font-bold text-sm">Scripting</p></a></ul></article><nav id=pagenav class="text-xs relative overflow-y-scroll custom-scroll sm-scroll bg-[var(--pagenav-bg-color)] dark:bg-[var(--dark-pagenav-bg-color)]" style=grid-area:pagenav><ul class="fixed p-4 border-l border-[var(--b-color)] dark:border-[var(--dark-b-color)] flex flex-col gap-2"><li><a href=#web-components class=cursor-pointer zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)]">Web Components</a><li><a href=#goldmark-htmlwithunsafe class=cursor-pointer zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)]">Goldmark html.WithUnsafe</a><li><a href=#component-initialization class=cursor-pointer zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)]">Component Initialization</a><li><a href=#removing-the-parent class="cursor-pointer pl-3" zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)]">Removing the Parent</a><li><a href=#enabling-inline-code class="cursor-pointer pl-3" zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)]">Enabling Inline Code</a><li><a href=#mdimportant class=cursor-pointer zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)]">MdImportant</a><li><a href=#mdwarning class=cursor-pointer zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)]">MdWarning</a><li><a href=#mdcorrect class=cursor-pointer zez:active="text-[var(--text-important)] dark:text-[var(--dark-text-important)]">MdCorrect</a></ul></nav></main></div><footer id=footer class="flex p-6 bg-[var(--footer-bg-color)] dark:bg-[var(--dark-footer-bg-color)] border-t border-[var(--b-color)] dark:border-[var(--dark-b-color)] text-sm items-center justify-center z-30" style=grid-area:footer><p>Godocument © 2024 Created by <a href=https://github.com/phillip-england/godocument class="dark:text-[var(--dark-text-important)] text-[var(--text-important)] underline" target=_blank>Phillip England</a></footer><div id=overlay class="z-40 fixed top-0 h-screen w-screen bg-[var(--overlay-bg-color)] opacity-70 hidden lg:hidden" zez:active="!block lg:invisible"></div></div><script src=http://localhost:8080/static/js/index.js></script>